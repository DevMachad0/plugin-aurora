/* Aurora Chat – Tema escuro (aplicado quando existe a classe .aurora-theme-dark em um ancestral) */

.aurora-theme-dark {
  color-scheme: dark;
}

.aurora-theme-dark .aurora-chat-container {
  --aurora-color-primary: #7c3aed;
  --aurora-color-primary-accent: #06b6d4;
  --aurora-color-primary-gradient: linear-gradient(135deg, var(--aurora-color-primary), var(--aurora-color-primary-accent));

  --aurora-color-bg: #111827;
  --aurora-color-surface: #0b1220;
  --aurora-color-soft-bg: #0f172a;
  --aurora-color-soft-alt: #111827;
  --aurora-color-border: #1f2937;
  --aurora-color-border-strong: #334155;
  --aurora-color-text: #e5e7eb;
  --aurora-color-text-soft: #cbd5e1;
  --aurora-color-muted: #94a3b8;
  --aurora-color-focus: #22d3ee;
  --aurora-color-danger: #f87171;
  --aurora-color-success: #34d399;

  --aurora-chat-bot-bg: #0b1220;
  --aurora-chat-bot-text: #e2e8f0;
  --aurora-chat-user-text: #ffffff;
}

/* Bubble tweaks no dark */
.aurora-theme-dark .aurora-bubble__panel {
  background: var(--aurora-color-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-bubble__header {
  background: var(--aurora-color-soft-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-bubble__close {
  color: var(--aurora-color-text-soft);
}

.aurora-theme-dark .aurora-bubble__welcome {
  background: var(--aurora-color-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-bubble__thread {
  background: var(--aurora-color-soft-bg);
}

.aurora-theme-dark .aurora-bubble__composer {
  background: var(--aurora-color-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-bubble__input {
  color: var(--aurora-color-text);
}

.aurora-theme-dark .aurora-bubble__send {
  background: #334155;
  color: #fff;
}

.aurora-theme-dark .aurora-bubble__mic {
  background: #111827;
  border-color: #1f2937;
  color: #cbd5e1;
}

/* Sessão tweaks no dark (muito baseado em tokens) */
.aurora-theme-dark .aurora-session {
  background: var(--aurora-color-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-session__header {
  background: linear-gradient(180deg, var(--aurora-color-soft-bg), transparent 85%), var(--aurora-color-bg);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-session__messages {
  /* Glassmorphism - efeito vitrificado escuro */
  background: rgba(15, 23, 42, 0.70);
  backdrop-filter: blur(14px) saturate(1.3);
  -webkit-backdrop-filter: blur(14px) saturate(1.3);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-color: var(--aurora-color-border);
}

.aurora-theme-dark .aurora-session__bubble {
  background: var(--aurora-chat-bot-bg);
  color: var(--aurora-chat-bot-text);
}

.aurora-theme-dark .aurora-session__message.is-user .aurora-session__bubble {
  color: var(--aurora-chat-user-text);
}

.aurora-theme-dark .aurora-session__composer {
  background: var(--aurora-color-bg);
}

.aurora-theme-dark .aurora-input-group {
  background: #0b1220;
  border-color: var(--aurora-color-border-strong);
}

.aurora-theme-dark .aurora-session__input {
  color: var(--aurora-color-text);
}

.aurora-theme-dark .aurora-session__mic,
.aurora-theme-dark .aurora-session__send {
  background: #334155;
  color: #fff;
}

.aurora-theme-dark .aurora-session__status {
  background: #0b1220;
  border-color: #1f2937;
}

/* Pré-atendimento (formulário) no tema escuro */
.aurora-theme-dark .aurora-prechat-wrapper {
  background: var(--aurora-color-soft-alt);
  border: 1px solid var(--aurora-color-border);
  color: var(--aurora-color-text);
  box-shadow: none;
}

.aurora-theme-dark .aurora-prechat-title {
  color: var(--aurora-color-text);
}

.aurora-theme-dark .aurora-prechat-row label {
  color: var(--aurora-color-muted);
}

.aurora-theme-dark .aurora-prechat-row input {
  background: var(--aurora-color-bg);
  color: var(--aurora-color-text);
  border: 1px solid var(--aurora-color-border-strong);
}

.aurora-theme-dark .aurora-prechat-submit {
  background: linear-gradient(135deg, var(--aurora-color-primary), var(--aurora-color-primary-accent));
  color: #fff;
}

.aurora-theme-dark .aurora-prechat-cancel {
  background: var(--aurora-color-bg);
  color: var(--aurora-color-text);
  border-color: var(--aurora-color-border);
}

/* Modal dark */
.aurora-theme-dark .aurora-modal__dialog {
  background: var(--aurora-color-bg, #0b1220);
  color: var(--aurora-color-text, #e5e7eb);
}

.aurora-theme-dark .aurora-modal__header {
  background: var(--aurora-color-soft-bg, #0f172a);
  border-color: var(--aurora-color-border, #1f2937);
}

.aurora-theme-dark .aurora-modal__content {
  background: #000;
}

.aurora-theme-dark .aurora-zoombtn {
  background: rgba(255, 255, 255, .12);
  color: #fff;
}

/* Toast dark */
.aurora-theme-dark .aurora-toast {
  background: #111827;
  color: #fff;
}

.aurora-theme-dark .aurora-toast.is-error {
  background: #7f1d1d;
}

/* Markdown: blocos de código e inline code no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble pre,
.aurora-theme-dark .aurora-session__bubble pre {
  background: #1e293b;
  border-color: #334155;
  color: #e2e8f0;
}

.aurora-theme-dark .aurora-bubble__bubble pre code,
.aurora-theme-dark .aurora-session__bubble pre code {
  color: #e2e8f0;
}

.aurora-theme-dark .aurora-bubble__bubble code,
.aurora-theme-dark .aurora-session__bubble code {
  background: #1e293b;
  color: #e2e8f0;
  border-color: #334155;
}

/* Outros elementos markdown no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble a,
.aurora-theme-dark .aurora-session__bubble a {
  color: #818cf8;
}

.aurora-theme-dark .aurora-bubble__bubble blockquote,
.aurora-theme-dark .aurora-session__bubble blockquote {
  border-left-color: #818cf8;
  color: #94a3b8;
}

.aurora-theme-dark .aurora-bubble__bubble th,
.aurora-theme-dark .aurora-session__bubble th {
  background: #1e293b;
}

.aurora-theme-dark .aurora-bubble__bubble th,
.aurora-theme-dark .aurora-bubble__bubble td,
.aurora-theme-dark .aurora-session__bubble th,
.aurora-theme-dark .aurora-session__bubble td {
  border-color: #334155;
}

/* Títulos markdown no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble h1,
.aurora-theme-dark .aurora-bubble__bubble h2,
.aurora-theme-dark .aurora-bubble__bubble h3,
.aurora-theme-dark .aurora-bubble__bubble h4,
.aurora-theme-dark .aurora-bubble__bubble h5,
.aurora-theme-dark .aurora-bubble__bubble h6,
.aurora-theme-dark .aurora-session__bubble h1,
.aurora-theme-dark .aurora-session__bubble h2,
.aurora-theme-dark .aurora-session__bubble h3,
.aurora-theme-dark .aurora-session__bubble h4,
.aurora-theme-dark .aurora-session__bubble h5,
.aurora-theme-dark .aurora-session__bubble h6 {
  color: #f1f5f9;
}

/* Parágrafos e texto geral no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble p,
.aurora-theme-dark .aurora-session__bubble p {
  color: #e2e8f0;
}

/* Listas no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble ul,
.aurora-theme-dark .aurora-bubble__bubble ol,
.aurora-theme-dark .aurora-bubble__bubble li,
.aurora-theme-dark .aurora-session__bubble ul,
.aurora-theme-dark .aurora-session__bubble ol,
.aurora-theme-dark .aurora-session__bubble li {
  color: #e2e8f0;
}

/* Texto em negrito e itálico no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble strong,
.aurora-theme-dark .aurora-bubble__bubble b,
.aurora-theme-dark .aurora-bubble__bubble em,
.aurora-theme-dark .aurora-bubble__bubble i,
.aurora-theme-dark .aurora-session__bubble strong,
.aurora-theme-dark .aurora-session__bubble b,
.aurora-theme-dark .aurora-session__bubble em,
.aurora-theme-dark .aurora-session__bubble i {
  color: inherit;
}

/* Linhas horizontais no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble hr,
.aurora-theme-dark .aurora-session__bubble hr {
  border-color: #334155;
}

/* Tachado no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble del,
.aurora-theme-dark .aurora-session__bubble del {
  color: #94a3b8;
}

/* Task lists no tema escuro */
.aurora-theme-dark .aurora-bubble__bubble .task-item input[type="checkbox"],
.aurora-theme-dark .aurora-session__bubble .task-item input[type="checkbox"] {
  accent-color: #818cf8;
}